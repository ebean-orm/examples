
buildscript {
  ext.kotlin_version = '1.5.31'
  repositories {
    mavenLocal()
    mavenCentral()
    gradlePluginPortal()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    classpath "io.ebean:ebean-gradle-plugin:12.1.8"
  }
}

apply plugin: 'idea'

apply plugin: 'org.jetbrains.kotlin.jvm'
apply plugin: 'org.jetbrains.kotlin.kapt'
apply plugin: 'io.ebean'

//plugins {
//  id('idea')
//  id('io.ebean') version '12.1.8'
//  id('org.jetbrains.kotlin.jvm') version '1.3.61'
//  id('org.jetbrains.kotlin.kapt') version '1.3.61'
//}

repositories {
  mavenLocal()
  mavenCentral()
}

dependencies {

  compile 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.31'
  compile 'org.avaje.composite:logback:1.1'

  compile 'io.ebean:ebean:12.1.8'
  compile 'io.ebean:ebean-querybean:12.1.8'
  compile 'org.postgresql:postgresql:42.2.8'

  kapt 'io.ebean:kotlin-querybean-generator:12.1.8'

  testCompile 'io.ebean:ebean-test:12.1.8'
  testCompile 'org.avaje.composite:junit:1.1'
}

compileKotlin {
  kotlinOptions.jvmTarget = '11'
}

compileTestKotlin {
  kotlinOptions.jvmTarget = '11'
}

ebean {
  debugLevel = 1
}

test {
  testLogging.showStandardStreams = true
  testLogging.exceptionFormat = 'full'
}
